@model Spc.Ofp.Tubs.DAL.Entities.PurseSeineSet

@* For now, create this in the View. *@
@{
    IEnumerable<Tuple<string, string>> crumbs = new List<Tuple<string, string>>()
    {
        Tuple.Create(Url.Action("Index", "Trip"), "Trips"),
        Tuple.Create(Url.Action("Details", "Trip", new { tripId = ViewBag.TripId }), ViewBag.TripNumber as string),
        Tuple.Create(Url.Action("List", "FishingSet", new { tripId = ViewBag.TripId }), "Sets"),
        Tuple.Create("#", String.Format("Set {0} of {1}", ViewBag.CurrentSet, ViewBag.MaxSets))
    };
}

@{ Html.RenderPartial("_BreadCrumbs", crumbs); }

@if (null == Model)
{
    <text>No such set number</text>
}
else
{
    <ul class="pager">
    @if (ViewBag.CurrentSet > 1)
    {
        <li>
            <a href='@Url.RouteUrl("SetDetails", new { tripId = ViewBag.TripId, setNumber = ViewBag.CurrentSet - 1 })'>Previous Set</a>
        </li>
    }
    
    @if (ViewBag.MaxSets > ViewBag.CurrentSet)
    {
        <li>
            <a href='@Url.RouteUrl("SetDetails", new { tripId = ViewBag.TripId, setNumber = ViewBag.CurrentSet + 1 })'>Next Set</a>
        </li>
    }
    </ul>
   
      
    <table class="table table-bordered table-condensed table-striped">
        <thead>
            <tr>
                <th>Skiff Off</th>
                <th>Winch On</th>
                <th>Rings Up</th>
                <th>Begin Brailing</th>
                <th>End Brailing</th>
                <th>End of Set</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Html.DisplayFor(m => Model.SkiffOff)</td>
                <td>@Html.DisplayFor(m => Model.WinchOn, new { format = "t" })</td>
                <td>@Html.DisplayFor(m => Model.RingsUp, new { format = "t" })</td>
                <td>@Html.DisplayFor(m => Model.BeginBrailing, new { format = "t" })</td>
                <td>@Html.DisplayFor(m => Model.EndBrailing, new { format = "t" })</td>
                <td>@Html.DisplayFor(m => Model.EndOfSet, new { format = "t" })</td>
            </tr>
        </tbody>
    </table>
    
    <ul>
    @foreach (var sc in Model.CatchList)
    {
        <li>@sc.SpeciesCode : @sc.MetricTonsObserved mT (@sc.FateCode)</li>
    }
    </ul>
   
}
